<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>お散歩コース描画＆登録アプリ</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>お散歩コース描画＆登録アプリ</h1>

        <div class="search-controls map-place-search-controls">
            <input type="text" id="placeSearchInput" placeholder="場所を検索（例: 東京タワー）">
            <button id="placeSearchBtn">検索</button>
            <button id="placeClearSearchBtn">クリア</button>
            <button id="startPlaceVoiceSearchBtn">音声検索</button> </div>
        <div id="map"></div>

        <div class="controls">
            <button id="startDrawing">描画開始</button>
            <button id="stopDrawing" disabled>描画終了</button>
            <button id="clearDrawing">コースクリア</button>
            <button id="saveCourse" disabled>コースを登録</button>
        </div>

        <div id="courseInfo" class="hidden">
            <h2>コース情報</h2>
            <p>
                <strong>距離:</strong>
                <span id="courseDistance">0.00</span> <span id="adjustment">km</span><strong>　徒歩:</strong>
                <span id="courseWalkingTime">0</span>
            </p>
            <label for="courseName">コース名:</label>
            <input type="text" id="courseName" placeholder="例: 週末ランニングコース">
            <label for="courseDescription">説明:</label>
            <textarea id="courseDescription" placeholder="例: 公園の周りを2周するコースです。"></textarea>
            <div id="aiAdviceArea" style="margin-bottom: 15px; padding: 10px; background: #e8f0fe; border-radius: 5px; display: none;">
            <strong style="color: #1a73e8;">✨ Geminiからのアドバイス:</strong><p id="geminiResponse" style="margin: 5px 0 0; font-size: 0.95rem;">計算中...</p></div>
            <button id="confirmSave">登録を確定</button>
        </div>

        <div id="savedCourses">
            <h2>登録済みコース</h2>
            <div class="search-controls">
                <input type="text" id="courseSearchInput" placeholder="コース名で検索...">
                <button id="courseSearchBtn">検索</button>
                <button id="courseClearSearchBtn">クリア</button>
                <button id="startCourseVoiceSearchBtn">音声検索</button> </div>
            <ul id="courseList">
            </ul>
        </div>
    </div>

   <script>
    // ▼ここにAPIキーを入力してください！MapsとGemini両方で使います。▼
    const GOOGLE_API_KEY = "YOUR_API_KEY";
    </script>
    <script src="js/app.js"></script>
    <script>
    (function loadGoogleMaps() {
        const script = document.createElement('script');
        script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_API_KEY}&libraries=drawing,geometry,places&callback=initMap`;
        script.async = true;
        script.defer = true;
        document.body.appendChild(script);
    })();
    </script>
</body>
</html>